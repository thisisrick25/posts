---
title: Git Configuration Based on Remote Repositories
description: Git Configuration Based on Remote Repositories
publishedAt: 2025-10-03
isPublished: true
tags:
  - git
---

Working with multiple git repos on different hosts (like GitHub, GitLab) can be cumbersome when it comes to managing SSH keys and commit signing. 

How it works
- Use `~/.ssh/config` to select the right SSH key per host.
- Use Git's `includeIf` to load host-specific `.gitconfig` only when a repository uses that remote.
- Configure commit signing per host and register allowed signers on the server.


## multiple git host with different ssh auth and sign key

To manage multiple git hosts (like GitHub, GitLab) with different SSH keys, 

1. Create a SSH config file at `~/.ssh/config`

```shell title="C://Users/username/.ssh/config"
# github
Host github.com
    HostName github.com
    User git
    IdentityFile ~/.ssh/id_ed25519_github_auth
    IdentitiesOnly yes

# gitlab
Host gitlab.com
    HostName gitlab.com
    User git
    IdentityFile ~/.ssh/id_ed25519_gitlab_auth
    IdentitiesOnly yes
```

```shell title="C://Users/username/.gitconfig"
[user]
	name = thisisrick25
	email = swapnaneel06@gmail.com
	signingkey = C:\\Users\\username\\.ssh\\id_ed25519_github_sign.pub
[filter "lfs"]
	clean = git-lfs clean -- %f
	smudge = git-lfs smudge -- %f
	process = git-lfs filter-process
	required = true
[gpg]
	format = ssh
[gpg "ssh"]
	allowedSignersFile = ~/.ssh/allowed_github_signers
[commit]
	gpgsign = true
[includeIf "hasconfig:remote.*.url:*gitlab.com*/**"]
    path = ~/.gitconfig-gitlab
[includeIf "hasconfig:remote.*.url:https://gitlab.com/**"]
    path = ~/.gitconfig-gitlab
```

```shell title="C://Users/username/.gitconfig-gitlab"
[user]
	signingkey = C:\\Users\\username\\.ssh\\id_ed25519_gitlab_sign.pub
[gpg "ssh"]
	allowedSignersFile = ~/.ssh/allowed_gitlab_signers
```